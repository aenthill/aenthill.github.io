<!DOCTYPE html><html><head>
    <meta charset="utf-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Aenthill | May the swarm be with you</title>
    <link rel="stylesheet" href="theme/apex/css/index.css"/>
  </head>
  <body>
    <div class="Wrapper">
      <div class="Container">
        <div class="Header">
          <div class="Title center">
              <img src="https://user-images.githubusercontent.com/8983173/40242480-15d7f8d0-5abe-11e8-9a52-8e28c95bcb60.png" alt="Logo" width="200" height="200"/>
            <span class="text">Aenthill</span>
            <span class="subtext">May the swarm be with you</span>
          </div>
        </div>

        <div class="Content-wrapper">
          <div class="Sidebar">
            <div class="Menu">
              
                <div class="item">
                  <a href="#introduction">Introduction</a>
                </div>
              
                <div class="item">
                  <a href="#installation">Installation</a>
                </div>
              
                <div class="item">
                  <a href="#commands">Commands</a>
                </div>
              
                <div class="item">
                  <a href="#how_does_it_work">How does it work?</a>
                </div>
              
            </div>
          </div>

          <div class="Content">
            
              <div class="Page" id="introduction">
                <h1 class="Heading"><a class="Anchor" aria-hidden="true" id="introduction" href="#introduction">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Introduction</h1>
                <p><a href="https://github.com/aenthill/aenthill">Aenthill</a> is a solution for allowing Docker containers to communicate with each other in order to fulfill a task in the current host directory.</p>

<p>Each of those Docker containers (called <em>Aent</em>) is not aware of its peers. It is however able to recieve and communicate events to them. In other words, an <em>Aent</em> is not necessarily smart
but it shares a part of the task to handle like an ant within its colony.</p>

              </div>
            
              <div class="Page" id="installation">
                <h1 class="Heading"><a class="Anchor" aria-hidden="true" id="installation" href="#installation">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Installation</h1>
                <p><a href="https://github.com/aenthill/aenthill">Aenthill</a> is distributed in a binary form and can be installed in many ways.
The only requirement is to have <em>Docker</em> installed and running on your host (always use the latest version).</p>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="installation.using_wget" href="#installation.using_wget">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Using wget</h2>

<pre class="chroma">$ wget -qO- https://github.com/aenthill/aenthill/releases/download/version/binary.tar.gz <span class="p">|</span> tar xvz -C .
$ sudo mv ./aenthill /usr/local/bin <span class="o">&amp;&amp;</span> chmod +x /usr/local/bin/aenthill
</pre>

<p>You may find available binaries in the <a href="https://github.com/aenthill/aenthill/releases/">releases page</a>.</p>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="installation.using_homebrew" href="#installation.using_homebrew">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Using homebrew</h2>

<pre class="chroma">$ brew install aenthill/tap/aenthill
</pre>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="installation.using_scoop" href="#installation.using_scoop">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Using Scoop</h2>

<pre class="chroma">$ scoope bucket add aenthill https://github.com/aenthill/scoop-bucket.git
$ scoop install aenthill
</pre>

              </div>
            
              <div class="Page" id="commands">
                <h1 class="Heading"><a class="Anchor" aria-hidden="true" id="commands" href="#commands">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>Commands</h1>
                <p><a href="https://github.com/aenthill/aenthill">Aenthill</a> provides the <code>aenthill</code> command-line program, which contains many useful commands.</p>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="commands.init" href="#commands.init">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>init</h2>

<p><a href="https://github.com/aenthill/aenthill">Aenthill</a> relies on an <code>aenthill.json</code> file (called <em>Manifest</em>) which gathers all <em>Aents</em> of your ecosystem.</p>

<p>You may create this file in your current directory by running:</p>

<pre class="chroma">$ aenthill init
</pre>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="commands.add" href="#commands.add">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>add</h2>

<p>Once your <em>Manifest</em> created, you may add <em>Aents</em> by using:</p>

<pre class="chroma">$ aenthill add image <span class="o">[</span>image...<span class="o">]</span>
</pre>

<p><a href="https://github.com/aenthill/aenthill">Aenthill</a> will add them to your <em>Manifest</em> and send the event <code>ADD</code> to them.</p>

<h2 class="Heading"><a class="Anchor" aria-hidden="true" id="commands.rm" href="#commands.rm">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>rm</h2>

<p>You may also remove <em>Aents</em> by using:</p>

<pre class="chroma">$ aenthill rm image <span class="o">[</span>image...<span class="o">]</span>
</pre>

<p><a href="https://github.com/aenthill/aenthill">Aenthill</a> will remove them from your <em>Manifest</em> and send the event <code>REMOVE</code> to them.</p>

              </div>
            
              <div class="Page" id="how_does_it_work">
                <h1 class="Heading"><a class="Anchor" aria-hidden="true" id="how_does_it_work" href="#how_does_it_work">
	<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
</a>How does it work?</h1>
                <p>As explained before, an ecosystem of <em>Aents</em> is working by sending events to each other.</p>

<p>An event may be sent by <a href="https://github.com/aenthill/aenthill">Aenthill</a> directly or by another <em>Aent</em>.</p>

<p>Letâ€™s start with <a href="https://github.com/aenthill/aenthill">Aenthill</a>:</p>

<pre class="chroma">$ aenthill add aenthill/cassandra
</pre>

<p>This command will send the event <code>ADD</code> to the <em>Aent</em> <code>aenthill/cassandra</code> by running:</p>

<pre class="chroma">$ docker run -ti --rm
-v <span class="s2">&#34;/var/run/docker.sock:/var/run/docker.sock&#34;</span>
-v <span class="s2">&#34;/host/project/dir:/aenthill&#34;</span>
-e <span class="s2">&#34;PHEROMONE_FROM=&#34;</span>
-e <span class="s2">&#34;PHEROMONE_WHOAMI=aenthill/cassandra&#34;</span>
-e <span class="s2">&#34;PHEROMONE_HOST_PROJECT_DIR=/host/project/dir&#34;</span>
-e <span class="s2">&#34;PHEROMONE_CONTAINER_PROJECT_DIR=/aenthill&#34;</span>
-e <span class="s2">&#34;PHEROMONE_LOG_LEVEL=INFO&#34;</span>
aenthill/cassandra aent ADD
</pre>

<p>There are several things to note:</p>

<ul>
<li><a href="https://github.com/aenthill/aenthill">Aenthill</a> starts the <em>Aent</em> <code>aenthill/cassandra</code> by calling its binary <code>aent</code> with the event name as first argument</li>
<li>It mounts the current host working directory <code>/host/project/dir</code> to the <em>Aent</em> directory <code>/aenthill</code></li>
<li>It binds the host Docker socket (more on that later)</li>
<li>It populates some environment variables</li>
</ul>

<p>Those environment variables allows the <em>Aent</em> to understand within which context it has been awaken.</p>

<p></p><details>
  <summary><code>PHEROMONE_FROM</code></summary>
  <p>The event sender (empty if sended by <a href="https://github.com/aenthill/aenthill">Aenthill</a>).</p>
</details><p></p>

<p></p><details>
  <summary><code>PHEROMONE_WHOAMI</code></summary>
  <p>The event recipient (the <em>Aent</em> itself).</p>
</details><p></p>

<p></p><details>
  <summary><code>PHEROMONE_HOST_PROJECT_DIR</code></summary>
  <p>The host project directory, useful if the <em>Aent</em> sends an event to another <em>Aent</em>.</p>
</details><p></p>

<p></p><details>
  <summary><code>PHEROMONE_CONTAINER_PROJECT_DIR</code></summary>
  <p>The path of the project directory in the <em>Aent</em>.</p>
</details><p></p>

<p></p><details>
  <summary><code>PHEROMONE_LOG_LEVEL</code></summary>
  <p>The log level as defined by the user with <a href="https://github.com/aenthill/aenthill">Aenthill</a>.</p>
</details><p></p>

<p>As you undestand, an <em>Aent</em> is a Docker image which has a binary called <code>aent</code>. This binary should accept two arguments:</p>

<ul>
<li>The event name (a string)</li>
<li>The payload (a string too) which contains the data associated to the event</li>
</ul>

<p>The last argument have to be optional (for instance, it is never filled by <a href="https://github.com/aenthill/aenthill">Aenthill</a>.</p>

<p>You may now wondering how an <em>Aent</em> is able to communicate with another <em>Aents</em>.</p>

<p>Actually, it works the same as <a href="https://github.com/aenthill/aenthill">Aenthill</a>: use the Docker client binary with almost the same options.
Just donâ€™t forget to:</p>

<ul>
<li>Set <code>PHEROMONE_FROM</code> with your <em>Aent</em> image name</li>
<li>Set <code>PHEROMONE_WHOAMI</code> witht the recipient image name</li>
</ul>

<p>Too much complicated? Donâ€™t worry, we provide <a href="https://github.com/aenthill/hermes">Hermes</a>, a tool for sending events inside a Docker container.</p>

              </div>
            
            <div class="Footer"></div>
            <script src="theme/apex/js/index.js"></script>
          </div>
        </div>
    </div>
  

</div></body></html>